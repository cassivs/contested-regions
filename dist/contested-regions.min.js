var Regions=function(){"use strict";function a(a){if("attachEvent"in window)return!1;e=this,e.elems={containers:[],movers:[]};i.extend(g,a);b()}function b(){h("DOMContentLoaded",c),h("resize",d)}function c(){var a=f.call(document.querySelectorAll("[region-flow-from], [region-flow-into]"))||[];for(var b in a){var c=a[b],g=[];f.call(c.attributes).forEach(function(a){g[a.name]=a.value}),"undefined"==typeof g["region-flow-into"]?e.elems.containers[g["region-flow-from"]]=c:e.elems.movers.push({node:c,breakPoint:g["region-breakpoint"],flowInto:g["region-flow-into"],isMoved:!1,origPrevSibling:c.previousElementSibling,origParent:c.parentNode,priority:b})}d()}function d(){var a=e.elems.movers,b=window.innerWidth,c=e.elems.containers;for(var d in a){var f=a[d],g=parseInt(f.breakPoint,10);!f.isMoved&&g>=b?(f.isMoved=!0,i.appendChild(c[f.flowInto],f.node)):f.isMoved&&b>g&&(f.isMoved=!1,f.origPrevSibling?i.insertAfter(f.origPrevSibling,f.node):i.prependChild(f.origParent,f.node))}}var e,f=Array.prototype.slice,g={version:"0.1"},h=window.addEventListener||window.attachEvent,i={extend:function(a,b){if("object"!=typeof a||"object"!=typeof b)throw new Error("Can only extend objects");for(var c in b)a[c]=b[c];return a},appendChild:function(a,b){a.appendChild(b)},prependChild:function(a,b){a.insertBefore(b,a.firstChild)},insertAfter:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},stillExistsInDom:function(a){return document.documentElement.contains(a)}};return{init:a}}(window);